<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>canvas Tutorial</title>
    <link href='style.css' rel='stylesheet' media='all'>
    <!-- <script src='test.js'></script> -->
  </head>
  <body>
  <canvas id="myCanvas" width="800" height="600" style="border:1px solid #d3d3d3;">
      
  </canvas>
  <button type="button" onclick="myFunction()">click</button>
  <script>
     function myFunction() {
      var canvas = document.getElementById('myCanvas');
      var c = canvas.getContext('2d');

      c.stokeStyle = 'purple';
      c.lineWidth = 6;
      c.lineCap = 'round';
      
      canvas.addEventListener('mousedown', dragStart, false);
      canvas.addEventListener('mousemove', drag, false);
      canvas.addEventListener('mouseup', dragStop, false);
      
      function dragStart(event) {
        console.log(getCanvasCoordinates());
      }

      function drag(event) {
        console.log(getCanvasCoordinates());
      }

      function dragStop(event) {
        console.log(getCanvasCoordinates());
      }

      function getCanvasCoordinates(event) {
        var x = event.clientX -canvas.getBoundingClientRect().left;
        var y = event.clientY -canvas.getBoundingClientRect().top;
        return {x: x, y: y};
      }
    };

  </script>
  </body>
</html>

